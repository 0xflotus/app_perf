<div class="row">
  <div class="small-12 medium-12 large-12 columns">
    <h4>Overview</h4>
  </div>
</div>
<div class="row">
  <div class="small-8 medium-8 large-8 columns">
    <div class="row">
      <div class="small-12 medium-12 large-12 columns">
        <h6>Average Request Time</h6>
        <div id="average-duration_chart" class="dynamic-chart" data-height="300px" data-url="<%= application_report_path(@application, :id => "average_duration", :filter => @filter, :transaction_id => @transaction_id) %>" data-duration="15000">
          <i class="fa fa-spinner fa-spin fa-5x"></i>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="small-8 medium-8 large-8 columns">
        <h6>Memory Usage</h6>
        <div id="memory_physical_chart" class="dynamic-chart" data-height="300px" data-url="<%= application_report_path(@application, :id => "memory_physical", :filter => @filter, :transaction_id => @transaction_id) %>" data-duration="15000">
          <i class="fa fa-spinner fa-spin fa-5x"></i>
        </div>
      </div>

      <div class="small-4 medium-4 large-4 columns">
        <h6>Errors</h6>
        <div id="errors_chart" class="dynamic-chart" data-height="300px" data-url="<%= application_report_path(@application, :id => "errors", :filter => @filter, :transaction_id => @transaction_id) %>" data-duration="15000">
          <i class="fa fa-spinner fa-spin fa-5x"></i>
        </div>
      </div>
    </div>
  </div>
  <div class="small-4 medium-4 large-4 columns">
    <% if false %>
    <div class="row">
      <div class="small-12 medium-12 large-12 columns">
        <table>
          <tbody>
            <% @hosts.each do |host| %>
              <tr>
                <td><%= host.name %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <% end %>
    <div class="row">
      <div class="small-12 medium-12 large-12 columns">
        <table>
          <tbody>
            <% @transaction_samples.each_pair do |end_point, transaction_samples| %>
              <tr>
                <td>
                  <%= end_point %><br />
                  <% transaction_samples.sort_by(&:started_at).reverse.take(3).each do |transaction_sample| %>
                    <%= link_to "#{transaction_sample.duration}s", application_transaction_path(@application, transaction_sample) %>
                  <% end %>
                </td>
                <td><%= transaction_samples.sum(&:duration) / transaction_samples.size %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
