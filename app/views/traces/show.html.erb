<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
    Trace
  </h1>
  <ol class="breadcrumb">
  </ol>
</section>

<section class="content">
  <div class="row">
    <div class="col-lg-12 connectedSortable">
      <div class="box">
        <div class="box-header">
          <h3 class="box-title">Transaction Sample <%= @trace.duration.to_f %></h3>
        </div>
        <div class="box-body" style="overflow-y: scroll; height: 300px;">
          <table class="table">
            <%= render @root_with_children, :depth => 0, :version => 1 %>
          </table>
        </div>
      </div>
    </div>
  </div>

  <% if @sample %>
  <div class="row">
    <div class="col-lg-12 connectedSortable">
      <div class="box">
        <div class="box-header">
          <h3 class="box-title">Sample Details</h3>
        </div>
        <div class="box-body">
          <% @sample.attributes.each_pair do |key, value| %>
            <div>
              <%= key %>:
              <% if value.is_a?(Hash) %>
                <% value.each_pair do |subkey, subvalue| %>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;<%= subkey %>: <%= subvalue %></div>
                <% end %>
              <% else %>
               <%= value.inspect %>
              <% end %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
  <% end %>
</section>